@c204onSexualAttack
#dim dynamic attackedIdx
#dims dynamic attackedName

	attackedIdx = getSexualAtkBodyPart()
	
	TFLAG:이번턴성공격 = attackedIdx
	attackedName = %STR:attackedIdx%
	
	; Hole
	if attackedIdx == 121 || attackedIdx == 123
		; Already inserted
		if isMasterInserted(attackedIdx, 1)
			if RAND:3 == 0
				printFormL %kr(NAME:TARGET, "은", "는")% 기다란 손가락을 %CALLNAME:MASTER%의 %partStr(attackedIdx)% 구석구석을 개발하고 있다
			elseif RAND:2 == 0
				printFormL %kr(NAME:TARGET, "은", "는")% 키득거리며 %CALLNAME:MASTER%도 모르던 %partStr(attackedIdx)%의 약점을 가르치고 있다
			else
				printFormL %kr(NAME:TARGET, "은", "는")% %CALLNAME:MASTER%의 %partStr(attackedIdx)% 속을 손가락으로 마구 휘젓고 있다
			endif
			
			if RAND:2 == 0
				call colorPrint(0xcc0044, "어때, 기분 좋아? 그럼 좀 더 깊게 쑤셔줄게.\n")
			else
				call colorPrint(0xcc0044, "그래. 좀 더 사랑스럽게 울어 봐.\n")
			endif
		; Insert
		elseif RAND:3 == 0
			call insertIntoMaster(attackedIdx, 1)

			if RAND:3 == 0
				printFormL %kr(NAME:TARGET, "은", "는")% %CALLNAME:MASTER%의 %partStr(attackedIdx)% 깊숙히 손가락을 밀어넣었다
			elseif RAND:2 == 0
				printFormL %kr(NAME:TARGET, "은", "는")% %CALLNAME:MASTER%의 %partStr(attackedIdx)% 속에 삽입했다
			else
				printFormL %kr(NAME:TARGET, "은", "는")% 새하얀 손가락을 밀어넣어 %CALLNAME:MASTER%의 %kr(partStr(attackedIdx), "을", "를")% 범했다
			endif
			
			if RAND:2 == 0
				call colorPrint(0xcc0044, "자, 내가 여자만 느낄 수 있는 즐거움을 가르쳐 줄게.\n")
			else
				call colorPrint(0xcc0044, "인생 손해 보고 살았네. 이쪽 구멍을 쓰는 법을 다시 알려줘야겠는걸?\n")
			endif
		; Tease
		else
			if RAND:3 == 0
				printFormL %NAME:TARGET%의 손가락이 %CALLNAME:MASTER%의 %kr(partStr(attackedIdx), "을", "를")% 스칠 때마다 짜릿한 쾌감이 등골을 타고 흐른다
			elseif RAND:2 == 0
				printFormL %kr(NAME:TARGET, "은", "는")% %CALLNAME:MASTER%의 %partStr(attackedIdx)% 근처를 닿을 듯 말듯 약올리고 있다
			else
				printFormL %kr(NAME:TARGET, "이", "가")% %CALLNAME:MASTER%의 %kr(partStr(attackedIdx), "을", "를")% 어루만지자 머릿속이 하얘지는 듯한 쾌감이 밀려온다
			endif
			
			if RAND:2 == 0
				call colorPrint(0xcc0044, "후후, 귀여워라. 몇 번을 놀려도 사랑스러운 반응인걸.\n")
			else
				call colorPrint(0xcc0044, "어머, 아직 아무것도 안 했는데, 벌써부터 속으로는 기대하고 있나 봐?\n")
			endif
		endif
	elseif attackedIdx == 116 || attackedIdx == 115 || attackedIdx == 114
		if MARK:MASTER:음문각인
			if RAND:3 == 0
				printFormL %kr(NAME:TARGET, "은", "는")% 요사스런 무늬가 새겨진 %CALLNAME:MASTER%의 %kr(partStr(114), "을", "를")% 사랑드럽다는 듯 쓰다듬었다
			elseif RAND:2 == 0
				printFormL %kr(NAME:TARGET, "이", "가")% %CALLNAME:MASTER%의 %partStr(114)%에 새겨진 음문의 테두리를 어루만졌다
			else
				printFormL %kr(NAME:TARGET, "은", "는")% 쿡쿡 웃으며 %CALLNAME:MASTER%의 음문을 찰싹 때렸다
			endif
		elseif BASE:TARGET:마력 > 200
			BASE:TARGET:마력 -= 200
			
			call colorPrint(0xcc0044, @"%kr(NAME:TARGET, "은", "는")% %CALLNAME:MASTER%에게 음탕한 마력을 쏘아보냈다\n")

			if RAND:20 < ABL:TARGET:마법공격 - ABL:MASTER:마법내성
				call colorPrint(0xcc0044, @"%kr(CALLNAME:MASTER, "은", "는")% 아랫배에 [음문각인]이 새겨졌다\n")
				MARK:MASTER:음문각인 = 1
			else
				printFormL 하지만 %kr(CALLNAME:MASTER, "은", "는")% 저항해냈다
			endif
		endif

		attackedIdx = 114

		; 다만 자궁쾌감증가
		SOURCE:MASTER:쾌자궁 += 90 + RAND:20
		return
	elseif attackedIdx == 124 || attackedIdx == 125
		; todo 방광요도구상
		; Already inserted
		if isMasterInserted(attackedIdx, 1)
			if RAND:3 == 0
				printFormL %kr(NAME:TARGET, "은", "는")% 꼬리를 움직여 %CALLNAME:MASTER%의 수치스러운 장소를 낱낱이 파헤치고 있다
			elseif RAND:2 == 0
				printFormL %kr(NAME:TARGET, "이", "가")% %CALLNAME:MASTER%의 절대 들키면 안되는 깊은 약점까지 낱낱이 파헤치기 시작했다
			else
				printFormL %NAME:TARGET%의 꼬리가 %CALLNAME:MASTER%의 %partStr(attackedIdx)% 벽을 톡톡 두드리며 반응을 즐기고 있다
			endif
			
			if RAND:2 == 0
				call colorPrint(0xcc0044, "이런. 이렇게까지 좋아해 줄 줄이야. 정말 최악의 변태잖아?\n")
			else
				call colorPrint(0xcc0044, "그 많은 음마들 중에서도 이 정도로 느끼는 사람은 없었는데. 이 음란한 몸뚱이는 참 타고난 것 같아. 안 그래?\n")
			endif
		; Insert
		else
			call insertIntoMaster(attackedIdx, 1)

			if RAND:4 == 0
				printFormL %NAME:TARGET%의 꼬리가 %CALLNAME:MASTER%의 %partStr(attackedIdx)%의 좁은 구멍 사이를 비집고 들어갔다
			elseif RAND:3 == 0
				printFormL %kr(NAME:TARGET, "은", "는")% 꼬리를 휘둘러 %CALLNAME:MASTER%의 %partStr(attackedIdx)% 구멍을 조준하더니 그대로 스윽 밀어넣었다
			elseif RAND:2 == 0
				printFormL 오줌을 배출하던 %CALLNAME:MASTER%의 %kr(partStr(attackedIdx), "은", "는")% 한순간에 %NAME:TARGET%의 꼬리를 받아들이게 되어 이물감을 느꼈지만, 그마저도 곧 쾌락으로 받아들였다
			else
				printFormL %kr(NAME:TARGET, "은", "는")% 길다란 꼬리를 내밀어 %CALLNAME:MASTER%의 %partStr(attackedIdx)% 속으로 밀어넣었다
			endif
			
			call colorPrint(0xcc0044, "여기로 즐기는 법도 보여줄게. 한 번 빠지면 못 빠져나올 걸?\n")
		endif
	elseif attackedIdx == 113
		if RAND:5 == 0 && MAXBASE:MASTER:모유 > 0
			printFormL %kr(NAME:TARGET, "은", "는")% %CALLNAME:MASTER%의 %partStr(attackedIdx)%에 입을 대고 모유를 마시고 있다
		elseif RAND:4 == 0
			printFormL %kr(NAME:TARGET, "은", "는")% 손가락을 갖다 댈 때마다 움찔거리는 %CALLNAME:MASTER%의 반응을 즐기며 %kr(partStr(attackedIdx), "을", "를")% 마음껏 희롱하고 있다
		elseif RAND:3 == 0
			printFormL %kr(NAME:TARGET, "은", "는")% %CALLNAME:MASTER%의 %partStr(attackedIdx)% 끝을 살살 약올리고 있다
		elseif RAND:2 == 0
			printFormL %kr(NAME:TARGET, "은", "는")% %CALLNAME:MASTER%의 %kr(partStr(attackedIdx), "을", "를")% 살살 간지럽히고 있다
		else
			printFormL %kr(NAME:TARGET, "은", "는")% %CALLNAME:MASTER%의 %kr(partStr(attackedIdx), "을", "를")% 조금씩 꼬집으며 자극하고 있다
		endif
	else
		attackedIdx = getOrdinarySexualAtkBodyPart()

		; 쾌감상승
		if RAND:3 == 0
			printFormL %kr(NAME:TARGET, "은", "는")% 붉은 마력을 해방했다
			printFormL %kr(CALLNAME:MASTER, "은", "는")% 몸 한구석에서 뜨거운 육욕을 느꼈다
			SOURCE:MASTER:attackedIdx += 3 * (90 + RAND:20)
		; 최면
		elseif RAND:2 == 0
			printFormL %kr(NAME:TARGET, "은", "는")% 푸른 마력을 해방했다

			call startHypno
			
			if BASE:MASTER:최면심도 < 25
				BASE:MASTER:최면심도++
			else
				; 최면자위
				; todo 최면자위구상
				EXP:MASTER:자위경험++
			endif
			
			call endHypno
		else
			printFormL %kr(NAME:TARGET, "은", "는")% 검은 마력을 해방했다

			if MARK:MASTER:절정봉인
				if RAND:5 == 0
					printFormL %CALLNAME:MASTER%에게 걸려있던 [절정봉인]이 해제되었다
					MARK:MASTER:절정봉인 = 0
				else
					; 절정 재촉
					SOURCE:MASTER:attackedIdx += 90 + RAND:20
				endif
			else
				printFormL %kr(CALLNAME:MASTER, "은", "는")% [절정봉인]이 되었다
				MARK:MASTER:절정봉인 = 1
			endif
		endif
		
		return
	endif

	TCVAR:TARGET:성희롱부위 = attackedIdx
	SOURCE:MASTER:attackedIdx += 90 + RAND:20
	
	; 절정봉인 적용중에는 쾌감이 빠르게 상승함
	if MARK:MASTER:절정봉인
		TIMES SOURCE:MASTER:attackedIdx, 1.5
	endif

	; exp 가산
	EXP:MASTER:attackedIdx++
	
	call onMasterSexualAttacked(attackedIdx)
	
